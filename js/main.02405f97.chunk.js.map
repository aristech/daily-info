{"version":3,"sources":["App.js","index.js"],"names":["wpApiDailyInfo","window","App","_useState","useState","_useState2","Object","slicedToArray","data","setData","useEffect","fetchData","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","dayNumber","dataRes","wrap","_context","prev","next","getDay","Date","fetch","concat","siteUrl","sent","json","stop","apply","this","arguments","dayString","react_default","createElement","className","map","time","index","obj","today","format","getTime","start","end","text","values","item","timeStart","parse","timeEnd","style","backgroundColor","alignSelf","color","textAlign","margin","padding","showText","ReactDOM","render","src_App","document","getElementById"],"mappings":"8KAEMA,EAAiBC,OAAOD,eAuGfE,MArGf,WAAe,IAAAC,EACWC,mBAAS,MADpBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACNK,EADMH,EAAA,GACAI,EADAJ,EAAA,GAGbK,oBAAU,WACRC,KACC,IAEH,IAAMA,EAAS,eAAAC,EAAAN,OAAAO,EAAA,EAAAP,CAAAQ,EAAAC,EAAAC,KAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAAX,EAAA,OAAAM,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACVL,EAAYM,iBAAO,IAAIC,MADbJ,EAAAE,KAAA,EAGMG,MAAK,GAAAC,OAEvB3B,EAAe4B,QAFQ,yCAAAD,OAGeT,IAN1B,cAGVC,EAHUE,EAAAQ,KAAAR,EAAAE,KAAA,EAQGJ,EAAQW,OARX,OAQVtB,EARUa,EAAAQ,KAShBpB,EAAQD,GATQ,wBAAAa,EAAAU,SAAAd,MAAH,yBAAAL,EAAAoB,MAAAC,KAAAC,YAAA,GAWTC,EAAY,WAChB,OAAQX,iBAAO,IAAIC,OACjB,KAAK,EACH,MAAO,SAET,KAAK,EACH,MAAO,UAET,KAAK,EACH,MAAO,YAET,KAAK,EACH,MAAO,WAET,KAAK,EACH,MAAO,SAET,KAAK,EACH,MAAO,WAET,KAAK,EACH,MAAO,WAqDb,OACEW,EAAArB,EAAAsB,cAAA,OAAKC,UAAU,OAGZ9B,GAAQA,EAAK+B,IAAI,SAACC,EAAMC,GAAP,OApDL,SAAAC,GACHlB,iBAAO,IAAIC,MAAvB,IAEMkB,EAAQC,iBAAO,IAAInB,KAAQ,cAC3Be,EAAOK,kBAAQ,IAAIpB,MACnBqB,EAAK,YAAAnB,OAAeQ,IAAf,UACLY,EAAG,YAAApB,OAAeQ,IAAf,QACHa,EAAI,YAAArB,OAAeQ,IAAf,SAuCV,OApCa7B,OAAO2C,OAAOP,GAAKH,IAAI,SAAAW,GAClC,IAAMC,EAAYN,kBAAQO,gBAAK,GAAAzB,OAAIgB,EAAJ,KAAAhB,OAAauB,EAAK,GAAGJ,GAArB,SACzBO,EAAUR,kBAAQO,gBAAK,GAAAzB,OAAIgB,EAAJ,KAAAhB,OAAauB,EAAK,GAAGH,GAArB,SAK7B,OAAIP,EAAOW,GAAaX,EAAOa,GAE3BjB,EAAArB,EAAAsB,cAAA,OACEC,UAAU,iBACVgB,MAAO,CACLC,gBAAiB,UACjBC,UAAW,SACXC,MAAO,OACPC,UAAW,SACXC,OAAQ,IAGVvB,EAAArB,EAAAsB,cAAA,MACEC,UAAU,kBACVgB,MAAO,CACLG,MAAO,OACPC,UAAW,SACXE,QAAS,KAGV,IACAV,EAAK,GAAGF,OAckBa,CAASrB,OChGlDsB,IAASC,OAAO3B,EAAArB,EAAAsB,cAAC2B,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.02405f97.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { format, getDay, differenceInMinutes, parse, getTime } from \"date-fns\";\nconst wpApiDailyInfo = window.wpApiDailyInfo;\n\nfunction App() {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    const dayNumber = getDay(new Date());\n\n    const dataRes = await fetch(\n      `${\n        wpApiDailyInfo.siteUrl\n      }/wp-json/rest_aristech/dailyInfo?day=${dayNumber}`\n    );\n    const data = await dataRes.json();\n    setData(data);\n  };\n  const dayString = () => {\n    switch (getDay(new Date())) {\n      case 1:\n        return \"monday\";\n        break;\n      case 2:\n        return \"tuesday\";\n        break;\n      case 3:\n        return \"wednesday\";\n        break;\n      case 4:\n        return \"thursday\";\n        break;\n      case 5:\n        return \"friday\";\n        break;\n      case 6:\n        return \"saturday\";\n        break;\n      case 0:\n        return \"sunday\";\n        break;\n      default:\n    }\n  };\n  const showText = obj => {\n    const day = getDay(new Date());\n\n    const today = format(new Date(), \"YYYY-MM-DD\");\n    const time = getTime(new Date());\n    const start = `aristech_${dayString(today)}_start`;\n    const end = `aristech_${dayString(today)}_end`;\n    const text = `aristech_${dayString(today)}_text`;\n\n    // console.log(time);\n    const calc = Object.values(obj).map(item => {\n      const timeStart = getTime(parse(`${today}T${item[0][start]}:00`));\n      const timeEnd = getTime(parse(`${today}T${item[1][end]}:00`));\n      // const diffInMinutes = differenceInMinutes(\n      //   parse(`${today}T${item[0][start]}:00`),\n      //   parse(`${today}T${item[1][end]}:00`)\n      // );\n      if (time > timeStart && time < timeEnd) {\n        return (\n          <div\n            className=\"daily-info-box\"\n            style={{\n              backgroundColor: \"#22c777\",\n              alignSelf: \"center\",\n              color: \"#fff\",\n              textAlign: \"center\",\n              margin: 5\n            }}\n          >\n            <h3\n              className=\"daily-info-text\"\n              style={{\n                color: \"#fff\",\n                textAlign: \"center\",\n                padding: 20\n              }}\n            >\n              {\" \"}\n              {item[2][text]}\n            </h3>\n          </div>\n        );\n      } else {\n        return false;\n      }\n    });\n    return calc;\n  };\n  return (\n    <div className=\"App\">\n      {/* {console.log(parse(`${today}T11:30:00`))} */}\n      {/* {console.log(data)} */}\n      {data && data.map((time, index) => showText(time))}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"dailyInfo\"));\n"],"sourceRoot":""}